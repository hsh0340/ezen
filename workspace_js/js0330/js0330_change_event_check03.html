<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>change 이벤트 6번 - checkbox</title>
  <!-- 
        배열의 요소 삭제 방법
     -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      let fruits = document.querySelectorAll("[name=fruit]"); // 배열
      let cart = document.querySelector("#cart");
      let items = [];


      // console.log(fruits); // NodeList >> 배열


      // fruits.forEach((v, i)  => {
      //     v.addEventListener("change", (event) => {
      //         if(event.currentTarget.checked) {
      //             items.push(v.value);
      //         } else { // 체크를 해제했다면 > items배열에서 제거
      //             items.splice(items.indexOf(v.value), 1); // i번째 1개 삭제
      //         }
      //         cart.innerText = `장바구니 확인 : ${items}`;
      //     })
      // });

      // for(let i of fruits) {
      //     i.addEventListener("change", (event) => {
      //         if(event.currentTarget.checked) {
      //             items.push(i.value);
      //             // console.log(items);
      //             // cart.innerText = items;
      //         } else { // 체크를 해제 했다면 >> items 배열에서 제거

      //         }
      //         cart.innerHTML = `장바구니 확인 : ${items}`;
      //     })
      // }


      for (let f of fruits) {
        f.addEventListener("change", (event) => {
          if (event.currentTarget.checked) {
            items.push(f.value);
          } else { // 체크를 해제했다면 > items배열에서 제거
            items.splice(items.indexOf(f.value), 1); // i번째 1개 삭제
          }
          cart.innerText = `장바구니 확인 : ${items}`;
        })
      }

    })
  </script>

</head>

<body>
  <h1>change 이벤트 6번 - checkbox</h1>
  <h3>과일 구매하기 - checkbox</h3>
  <h4>장바구니에 구매하고자 하는 과일을 선택하시오. (다중 선택)</h4>
  <label><input type="checkbox" name="fruit" value="사과">사과</label>
  <label><input type="checkbox" name="fruit" value="딸기">딸기</label>
  <label><input type="checkbox" name="fruit" value="포도">포도</label>
  <label><input type="checkbox" name="fruit" value="메론">메론</label>
  <label><input type="checkbox" name="fruit" value="바나나">바나나</label>

  <br>
  <p id="cart"></p>
</body>

</html>
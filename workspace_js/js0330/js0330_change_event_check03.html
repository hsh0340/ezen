<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>chang event 5 - checkbox</title>
  <!-- 
    배열의 요소 삭제 방법
    splice(인덱스 번호, 개수) -> 인덱스 번호부터 
   -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      let fruits = document.querySelectorAll("[name=fruits]") // array
      let cart = document.querySelector("#cart")
      let items =[]

      // console.log(fruits); // nodeList -> 배열
      fruits.forEach((v, i) => {
        value.addEventListener("change", (event) => {
          if (event.currentTarget.checked) {
            // 체크되었다면 -> items 배열에 추가
            items.push(v.value)
          } else {
            // 체크를 해제했다면 -> items 배열에서 제거
            items.splice(items.indexOf(v.value), 1) // v.value에 해당하는 값을 items에서 삭제
          }
          cart.innerText = `장바구니 확인 : ${items}`
          console.log(items);
        })
      })

      // for (let f of fruits) {
      //   f.addEventListener("change", (event) => {
      //     if (event.currentTarget.checked) {
      //       // 체크되었다면 -> items 배열에 추가
      //       items.push(f.value)
      //       console.log(f);
      //       car.innerText = `장바구니 확인 : ${items}`
      //     } else {
      //       // 체크를 해제했다면 -> items 배열에서 제거

      //     }
      //   })
      // }
    })
  </script>
</head>
<body>
    <h2>change event 6 - checkbox</h2>
    <h3>buying fruits - checkbox event</h3>
    <h4>장바구니에 구매하고자 하는 과일을 담으시오. (다중 선택)</h4>
    <label><input type="checkbox" name="fruit" value="apple">apple</label>
    <label><input type="checkbox" name="fruit" value="strawberry">strawberry</label>
    <label><input type="checkbox" name="fruit" value="grape">grape</label>
    <label><input type="checkbox" name="fruit" value="melon">melon</label>
    <label><input type="checkbox" name="fruit" value="watermelon">watermelon</label>
    <hr>
    <div id="cart"></div>
</body>
</html>